

<!DOCTYPE html>
<html>
  <head>
    <title>
	Configuration Map :: Mortar Documentation
</title>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2021-01-08T14:29:59 IST">
<meta name="description" content="">



<title>Configuration Map :: Mortar Documentation</title>

<link rel="shortcut icon" href='/images/favicon.png' type="image/x-icon" />

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.css">

<script src='https://code.jquery.com/jquery-3.5.1.min.js'></script>

<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel="stylesheet">



<link rel="stylesheet" type="text/css" href='https://go-masonry.github.io/sass/layout.css'>
<link rel="stylesheet" type="text/css" href='https://go-masonry.github.io/css/style.main.css'>
<link rel="stylesheet" type="text/css" href='https://go-masonry.github.io/css/style.menu.css'>
<link rel="stylesheet" type="text/css" href='https://go-masonry.github.io/sass/shortcodes/notice.css'>
<link rel="stylesheet" type="text/css" href='https://go-masonry.github.io/sass/shortcodes/tabs.css'>
<link rel="stylesheet" type="text/css" href='https://go-masonry.github.io/sass/shortcodes/panel.css'>
<link rel="stylesheet" type="text/css" href='https://go-masonry.github.io/sass/shortcodes/columns.css'>
<link rel="stylesheet" type="text/css" href='https://go-masonry.github.io/sass/shortcodes/children.css'>
<link rel="stylesheet" type="text/css" href='https://go-masonry.github.io/sass/shortcodes/attachments.css'>
<link rel="stylesheet" type="text/css" href='https://go-masonry.github.io/sass/shortcodes/alert.css'>
<link rel="stylesheet" type="text/css" href='/css/docport.css'>

<script src='/js/docport.js'></script>
<script type="text/javascript">
      var baseurl = "https:\/\/go-masonry.github.io\/";
</script>




    
  </head>

  <body data-url="/mortar/config/"

  class="hidenextpage ">

<style type="text/css">
  #debug{
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    line-height: 3.5rem;
    margin-bottom: .35rem;
    padding: 0 2rem;
    position: fixed;
    left: 0;      right: 0;     top: 0;
   
    top:0px;
    
    min-height: 150px;

    background-color: white;
    border: 3px solid red;
    z-index: 10000 ;
    word-wrap: all;
    overflow: auto;
  }
</style>
 


    
    
    <header style="">
        <div>
    
    <div class="burger ">
        <a href="javascript:void(0);" style="font-size:15px;" onclick="$('article > aside').toggleClass('responsive')">&#9776;</a>
    </div>
    

    <div>

		
	
			
		
	    	<a class='baselink' href='https://go-masonry.github.io/'>Mortar Documentation</a>
	  	
	</div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/go-masonry/mortar-demo"  rel="noopener">
                  Demo
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/go-masonry/mortar"  rel="noopener">
                  Github
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/go-masonry/mortar/discussions"  rel="noopener">
                  Discussions
                </a>
            </li>
    </nav>

</div>
    </header>
    

    <article>
      
      <aside class="">
        

		
	
			
		
	    	
	  	
	<div id="close_menu">
  <a href="javascript:void(0);" style="font-size:15px;" onclick="$('article > aside').toggleClass('responsive')">
      <i class="fa fa-lg fa-times"></i>
  </a>
</div>

<ul class="menu">

    <li data-nav-id="https://go-masonry.github.io/api/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="/api/">APIs</a>
      
        <ul>
              

    <li data-nav-id="https://go-masonry.github.io/api/grpc/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/api/grpc/">gRPC</a>
      
        
      
    </li>
              

    <li data-nav-id="https://go-masonry.github.io/api/grpc-gw/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/api/grpc-gw/">gRPC-Gateway</a>
      
        
      
    </li>
              

    <li data-nav-id="https://go-masonry.github.io/api/handlers/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/api/handlers/">HTTP Handler/Func</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://go-masonry.github.io/fx/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="/fx/">Dependency Injection</a>
      
        <ul>
              

    <li data-nav-id="https://go-masonry.github.io/fx/pattern/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/fx/pattern/">Dependency Pattern</a>
      
        
      
    </li>
              

    <li data-nav-id="https://go-masonry.github.io/fx/groups/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/fx/groups/">Groups</a>
      
        
      
    </li>
              

    <li data-nav-id="https://go-masonry.github.io/fx/tests/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/fx/tests/">Tests</a>
      
        
      
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://go-masonry.github.io/middleware/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="/middleware/">Middleware</a>
      
        <ul>
              

    <li data-nav-id="https://go-masonry.github.io/middleware/context/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/middleware/context/">Context</a>
      
        
      
    </li>
              

    <li data-nav-id="https://go-masonry.github.io/middleware/telemetry/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      
          <a href="/middleware/telemetry/">Telemetry</a>
      <i class="fas fa-chevron-right ddexp"></i>
        
      
        <ul>
              

    <li data-nav-id="https://go-masonry.github.io/middleware/telemetry/logging/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/middleware/telemetry/logging/">Logging</a>
      
        
      
    </li>
        </ul>
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://go-masonry.github.io/mortar/" class="dd-item parent active
        item_level_$level
        ">

      
      
      
      
        
      
          <a href="/mortar/">Mortar Design</a>
      
    </li>
    



</ul>

		
	
			
		
	    	
	  	
	
      </aside>
      

      <section class="page ">
      
	
    
    
    <nav id="ariane" aria-label="breadcrumb">
      <ol class="ariane">
        
  
  	
		
  
  	
	<li >
      <a class="text-link" href="https://go-masonry.github.io/">
        Home
      </a>
    </li>
	
  
    <li class="">
      <a class="text-link" href="/mortar/">
        Mortar Design
      </a>
    </li>
	
  	
  
    <li class="active">
      
        Configuration Map
      
    </li>

      </ol>
    </nav>
    
    

    
		
        
		
		
		
		
		
		
		

		
			<h1>Mortar Design<span>Configuration Map</span></h1>
        

			
			
		

		
				<nav class="subpages">
	            		
	        			
	            	<li >
	            		<a title="$pagetitle" href="/mortar/bricks/">Bricks</a>
	            	</li>
	            		
	        			
	            	<li >
	            		<a title="$pagetitle" href="/mortar/builders/">Builder Pattern</a>
	            	</li>
	            		
	        			
	            	<li class="active">
	            		<a title="$pagetitle" href="/mortar/config/">Configuration Map</a>
	            	</li>
	            		
	        			
	            	<li >
	            		<a title="$pagetitle" href="/mortar/listeners/">Listeners</a>
	            	</li>
	        	</nav> 
		
	

	
	
	<div class="jump-to-section">
		<span onclick="$h = $(this);$h.next('nav').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('nav').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
  			<span class="fas fa-align-right"></span>
  			Jump to Section
  			<i style=";" class="fas fa-chevron-right"></i>
		</span>
		<nav id="TableOfContents">
  <ul>
    <li><a href="#environment-variables">Environment variables</a>
      <ul>
        <li><a href="#matching-environment-variable-names">Matching environment variable names</a></li>
      </ul>
    </li>
    <li><a href="#mortar-keys">Mortar Keys</a></li>
    <li><a href="#config-format">Config format</a></li>
    <li><a href="#mortar-expects-this-configyaml-template">Mortar expects this <code>config.yaml</code> template</a></li>
  </ul>
</nav>
	</div>
	
	






	<div class="content">
	    <p>It is good practice to use constants in your code instead of <a href="https://en.wikipedia.org/wiki/Magic_number_(programming)">magic numbers</a>,
and it&rsquo;s even better to set them outside your code, either by providing a config file or reading from an environment variable.
Mortar has a <code>Config</code> interface that is used everywhere to read external configurations.
While Mortar can be configured explicitly, and that gives you total control over it, it is much comfortable to use its defaults.
To read them, Mortar expects a dedicated configuration key called <strong>mortar</strong>:</p>



<div class="card "><div class="card-body">
    <p class="card-text"><div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#062873;font-weight:bold">mortar</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#062873;font-weight:bold">name</span>:<span style="color:#bbb"> </span><span style="color:#4070a0">&#34;tutorial&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#062873;font-weight:bold">server</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">grpc</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">port</span>:<span style="color:#bbb"> </span><span style="color:#40a070">5380</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">rest</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">external</span>:<span style="color:#bbb">
</span><span style="color:#bbb">        </span><span style="color:#062873;font-weight:bold">port</span>:<span style="color:#bbb"> </span><span style="color:#40a070">5381</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">internal</span>:<span style="color:#bbb">
</span><span style="color:#bbb">        </span><span style="color:#062873;font-weight:bold">port</span>:<span style="color:#bbb"> </span><span style="color:#40a070">5382</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#0e84b5;font-weight:bold">...</span><span style="color:#bbb">
</span></code></pre></div></p>
  </div></div>

<p>Every project should have a configuration file, and yours is no exception. You can put all your external configuration values
in it (or them).</p>
<p>The concept is simple, you use the <code>Get</code> function that accepts a key. A key is actually a path within the configuration map.
Looking at the above example, to access the gRPC server port, you should use the following key:</p>
<p><code>mortar.server.grpc.port</code></p>


<div class="notices primary">
	<p>The default delimiter is <code>.</code> but if needed it can be changed, with a proper PR</p>
</div>

<p>Once you <code>Get</code> a value with a provided key you can:</p>
<ul>
<li>Check if it was set <code>value.IsSet() bool</code>.</li>
<li>Cast it to a type:
<ul>
<li><code>Bool() bool</code></li>
<li><code>Int() int</code></li>
<li><code>StringMapStringSlice() map[string][]string</code></li>
<li>&hellip;</li>
</ul>
</li>
</ul>
<h2 ref="environment-variables" >Environment variables</h2><a class="anchor" id="environment-variables"></a>
<p>While it depends on the implementation, you should assume that if there is an environment variable with a <em>matching</em> name,
its value is going to be used first.</p>
<h3 ref="matching-environment-variable-names" >Matching environment variable names</h3><a class="anchor" id="matching-environment-variable-names"></a>
<p>As mentioned previously, the default delimiter is <code>.</code>. However, when naming environment variables you can&rsquo;t use <code>.</code>.
It is expected the that chosen implementation will allow you to configure a delimiter <em>replacer</em>.
If you choose to use <a href="https://github.com/spf13/viper">viper</a> using <a href="https://github.com/go-masonry/bviper">brick wrapper</a>,
by default there is a replacer that will replace the <code>_</code> delimiter to <code>.</code> used in our code.</p>
<p>This is better explained with an example. Look at the map below:</p>
<p>


<div class="card "><div class="card-body">
    <p class="card-text"><div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#062873;font-weight:bold">mortar</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#062873;font-weight:bold">server</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">grpc</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">port</span>:<span style="color:#bbb"> </span><span style="color:#40a070">5380</span><span style="color:#bbb">
</span></code></pre></div></p>
  </div></div>

Let&rsquo;s say you want to change port value from 5380 to 7777. You can change the file itself. However, you can also override it.
Viper allows you to override configuration values with a matching environment variable. In our case:</p>
<p>


<div class="card "><div class="card-body">
    <p class="card-text"><div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#007020">export</span> <span style="color:#bb60d5">MORTAR_SERVER_GRPC_PORT</span><span style="color:#666">=</span><span style="color:#4070a0">&#34;7777&#34;</span>
</code></pre></div></p>
  </div></div>

When you want to read the gRPC server port value in your code, you should use this as a key:</p>
<p><code>mortar.server.grpc.port</code></p>
<p>Viper will look for an environment variable by replacing <code>_</code> with <code>.</code> case-insensitive <strong>first</strong> and return its value if set.</p>
<h2 ref="mortar-keys" >Mortar Keys</h2><a class="anchor" id="mortar-keys"></a>
<p>Mortar expects different keys in its configuration map to enable or configure different abilities.</p>


<div class="notices warning">
	<label>Will probably be Refactored</label><p>In <a href="https://pkg.go.dev/github.com/go-masonry/mortar@v0.2.1/interfaces/cfg/keys#section-documentation">this</a> documentation we try to show what the configuration map should look like and expose all the keys.</p>

</div>

<h2 ref="config-format" >Config format</h2><a class="anchor" id="config-format"></a>
<p>While in this example we showed you <code>config.yml</code> in YAML format, you can choose whatever works for you, as long as the provided <code>Config</code> implementation knows how to read it and will abstract every key to be queried in this form:</p>
<p><code>root.child.childOfChild</code></p>
<h2 ref="mortar-expects-this-configyaml-template" >Mortar expects this <code>config.yaml</code> template</h2><a class="anchor" id="mortar-expects-this-configyaml-template"></a>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#60a0b0;font-style:italic"># Root key of everything related to mortar configuration</span><span style="color:#bbb">
</span><span style="color:#bbb"></span><span style="color:#062873;font-weight:bold">mortar</span>:<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#60a0b0;font-style:italic"># Application/Project name</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#60a0b0;font-style:italic"># Type: string</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#062873;font-weight:bold">name</span>:<span style="color:#bbb"> </span><span style="color:#4070a0">&#34;Application Name&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#60a0b0;font-style:italic"># Web server related configuration</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#062873;font-weight:bold">server</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">grpc</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># gRPC API External port</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># Type: int</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">port</span>:<span style="color:#bbb"> </span><span style="color:#40a070">5380</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">rest</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># RESTful API External port</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># Type: int</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">external</span>:<span style="color:#bbb">
</span><span style="color:#bbb">        </span><span style="color:#062873;font-weight:bold">port</span>:<span style="color:#bbb"> </span><span style="color:#40a070">5381</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># RESTful API Internal port</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># Type: int</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">internal</span>:<span style="color:#bbb">
</span><span style="color:#bbb">        </span><span style="color:#062873;font-weight:bold">port</span>:<span style="color:#bbb"> </span><span style="color:#40a070">5382</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#60a0b0;font-style:italic"># Default Logger related configuration</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#062873;font-weight:bold">logger</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic"># Set the default log level for mortar logger</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic"># Possible values:</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic">#		trace, debug, info, warn, error</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic"># Type: string</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">level</span>:<span style="color:#bbb"> </span>debug<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">static</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># enables/disables adding a git commit SHA in every log entry</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># Type: bool</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">git</span>:<span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">true</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># enables/disables adding a hostname in every log entry</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># Type: bool</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">host</span>:<span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">false</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># enables/disables adding an application/project name in every log entry</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># Type: bool</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">name</span>:<span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">false</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#60a0b0;font-style:italic"># Metrics/Monitoring related configuration</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#062873;font-weight:bold">monitor</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic"># sets the namespace/prefix of every metric. Depends on the Metrics implementation</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic"># Type: string</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">prefix</span>:<span style="color:#bbb"> </span><span style="color:#4070a0">&#34;awesome&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic"># allows to include static labels/tags to every published metric</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic"># Type: map[string]string</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">tags</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">tag1</span>:<span style="color:#bbb"> </span>value1<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">tag2</span>:<span style="color:#bbb"> </span>value2<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">tag3</span>:<span style="color:#bbb"> </span>value3<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#60a0b0;font-style:italic"># Bundled handlers configuration</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#062873;font-weight:bold">handlers</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">config</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># defines a list of keywords that once contained within the configuration key will obfuscate the value</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># Type: []string</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">obfuscate</span>:<span style="color:#bbb">
</span><span style="color:#bbb">        </span>- <span style="color:#4070a0">&#34;pass&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span>- <span style="color:#4070a0">&#34;auth&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span>- <span style="color:#4070a0">&#34;secret&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span>- <span style="color:#4070a0">&#34;login&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span>- <span style="color:#4070a0">&#34;user&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#60a0b0;font-style:italic"># Interceptors/Extractors configuration</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#062873;font-weight:bold">middleware</span>:<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic"># set the default log level of all the bundled middleware that writes to log</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic"># Possible values:</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic"># 	trace, debug, info, warn, error</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic"># Type: string</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">logLevel</span>:<span style="color:#bbb"> </span><span style="color:#4070a0">&#34;trace&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic"># list of headers to be extracted from Incoming gRPC and added to every log entry</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#60a0b0;font-style:italic"># Type: []string</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">logHeaders</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span>- <span style="color:#4070a0">&#34;x-forwarded-for&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span>- <span style="color:#4070a0">&#34;special-header&#34;</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">trace</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">http</span>:<span style="color:#bbb">
</span><span style="color:#bbb">        </span><span style="color:#062873;font-weight:bold">client</span>:<span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#60a0b0;font-style:italic"># include HTTP client request to trace info ?</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#60a0b0;font-style:italic"># Type: bool</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#062873;font-weight:bold">request</span>:<span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">true</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#60a0b0;font-style:italic"># include HTTP client response to trace info ?</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#60a0b0;font-style:italic"># Type: bool</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#062873;font-weight:bold">response</span>:<span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">true</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">grpc</span>:<span style="color:#bbb">
</span><span style="color:#bbb">        </span><span style="color:#062873;font-weight:bold">client</span>:<span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#60a0b0;font-style:italic"># include gRPC client request to trace info ?</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#60a0b0;font-style:italic"># Type: bool</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#062873;font-weight:bold">request</span>:<span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">true</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#60a0b0;font-style:italic"># include gRPC client response to trace info ?</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#60a0b0;font-style:italic"># Type: bool</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#062873;font-weight:bold">response</span>:<span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">true</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span><span style="color:#062873;font-weight:bold">server</span>:<span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#60a0b0;font-style:italic"># include incoming gRPC request to trace info ?</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#60a0b0;font-style:italic"># Type: bool</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#062873;font-weight:bold">request</span>:<span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">true</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#60a0b0;font-style:italic"># include a gRPC response of incoming request to trace info ?</span><span style="color:#bbb">
</span><span style="color:#bbb">          </span><span style="color:#062873;font-weight:bold">response</span>:<span style="color:#bbb"> </span><span style="color:#007020;font-weight:bold">true</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#062873;font-weight:bold">copy</span>:<span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># list of header prefixes to copy/forward from Incoming gRPC context to outgoing Request context/headers</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#60a0b0;font-style:italic"># Type: []string</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span><span style="color:#062873;font-weight:bold">headers</span>:<span style="color:#bbb">
</span><span style="color:#bbb">        </span>- <span style="color:#4070a0">&#34;authorization&#34;</span><span style="color:#bbb">
</span></code></pre></div>
		</div>






	

      </section>

      
      
      <section class="right-menu ">
      
	

		
	
			
		
	    	
	  	
	<div class="TableOfContents">
    <label><i class="fas fa-align-right"></i>&nbsp;&nbsp;What&#39;s on this page</label>
    <nav>
        <ul >
            <li><a href="/mortar/config/">Configuration Map</a></li>
        </ul>
    </nav>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#environment-variables">Environment variables</a>
      <ul>
        <li><a href="#matching-environment-variable-names">Matching environment variable names</a></li>
      </ul>
    </li>
    <li><a href="#mortar-keys">Mortar Keys</a></li>
    <li><a href="#config-format">Config format</a></li>
    <li><a href="#mortar-expects-this-configyaml-template">Mortar expects this <code>config.yaml</code> template</a></li>
  </ul>
</nav>
</div>

		
	
			
		
	    	
	  	
	<div class="Actions">
	<nav>
		<ul>
				
		    
		    
			
		      <li>
		          <i class='fas fa-calendar'></i>
		          Last update on 10 December 2020
		      </li>
		    
		    

    	</ul>
	</nav>
    
</div>

      </section>
      
    </article>
    
    
    <footer>
      

		
	
			
		
	    	
	    
	
    </footer>
    



  </body>
</html>
